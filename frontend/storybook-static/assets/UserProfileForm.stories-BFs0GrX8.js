import{j as t}from"./jsx-runtime-Bywvkw1S.js";import{r as u}from"./index-CleY8y_P.js";import"./_commonjsHelpers-Cpj98o6Y.js";const S=i=>{const s=typeof i=="string"?parseFloat(i):i;return isNaN(s)?{isValid:!1,error:"Yaş sayısal bir değer olmalıdır"}:s<18?{isValid:!1,error:"Yaş en az 18 olmalıdır"}:s>100?{isValid:!1,error:"Yaş en fazla 100 olabilir"}:{isValid:!0}},T=i=>!i||i.length===0?{isValid:!1,error:"En az bir hobi seçmelisiniz"}:i.length>10?{isValid:!1,error:"En fazla 10 hobi seçebilirsiniz"}:{isValid:!0},w=i=>{const s=typeof i=="string"?parseFloat(i):i;return isNaN(s)?{isValid:!1,error:"Bütçe sayısal bir değer olmalıdır"}:s<=0?{isValid:!1,error:"Bütçe pozitif bir değer olmalıdır"}:{isValid:!0}},g=(i,s)=>!i||i.trim()===""?{isValid:!1,error:`${s} zorunludur`}:{isValid:!0},ee=i=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2,maximumFractionDigits:2}).format(i),ae=["Spor","Müzik","Okuma","Seyahat","Yemek Pişirme","Bahçecilik","Fotoğrafçılık","Resim","Teknoloji","El Sanatları","Oyun","Sinema"],re=["Anne","Baba","Eş","Sevgili","Kardeş","Arkadaş","İş Arkadaşı","Diğer"],te=["Doğum Günü","Yıldönümü","Sevgililer Günü","Anneler Günü","Babalar Günü","Yılbaşı","Mezuniyet","Diğer"],ie=["Pratik","Romantik","Sportif","Entelektüel","Sanatsal","Teknoloji Meraklısı","Doğa Sever","Sosyal"];function x({onSubmit:i,isLoading:s=!1}){const[a,d]=u.useState({age:0,hobbies:[],relationship:"",budget:0,occasion:"",personalityTraits:[]}),[o,k]=u.useState({}),[n,c]=u.useState({}),[$,y]=u.useState("");u.useEffect(()=>{const e={};if(n.age){const r=S(a.age);r.isValid||(e.age=r.error)}if(n.hobbies){const r=T(a.hobbies);r.isValid||(e.hobbies=r.error)}if(n.relationship){const r=g(a.relationship,"İlişki durumu");r.isValid||(e.relationship=r.error)}if(n.budget){const r=w(a.budget);r.isValid||(e.budget=r.error)}if(n.occasion){const r=g(a.occasion,"Özel gün");r.isValid||(e.occasion=r.error)}k(e)},[a,n]);const G=e=>{const r=e.target.value;d({...a,age:r===""?0:parseFloat(r)}),c({...n,age:!0})},M=e=>{const r=a.hobbies.includes(e)?a.hobbies.filter(l=>l!==e):[...a.hobbies,e];d({...a,hobbies:r}),c({...n,hobbies:!0})},U=e=>{d({...a,relationship:e.target.value}),c({...n,relationship:!0})},q=e=>{const r=e.target.value,l=r===""?0:parseFloat(r);d({...a,budget:l}),y(r),c({...n,budget:!0})},K=()=>{a.budget>0&&y(ee(a.budget))},W=()=>{y(a.budget>0?a.budget.toString():"")},J=e=>{d({...a,occasion:e.target.value}),c({...n,occasion:!0})},Q=e=>{const r=a.personalityTraits.includes(e)?a.personalityTraits.filter(l=>l!==e):[...a.personalityTraits,e];r.length<=5&&d({...a,personalityTraits:r})},X=()=>{const e={};let r=!0;const l=S(a.age);l.isValid||(e.age=l.error,r=!1);const v=T(a.hobbies);v.isValid||(e.hobbies=v.error,r=!1);const N=g(a.relationship,"İlişki durumu");N.isValid||(e.relationship=N.error,r=!1);const V=w(a.budget);V.isValid||(e.budget=V.error,r=!1);const j=g(a.occasion,"Özel gün");return j.isValid||(e.occasion=j.error,r=!1),k(e),c({age:!0,hobbies:!0,relationship:!0,budget:!0,occasion:!0}),r},Z=e=>{e.preventDefault(),X()&&i(a)};return t.jsxs("form",{onSubmit:Z,className:"max-w-2xl mx-auto p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-gray-900 dark:text-white",children:"Hediye Alacağınız Kişinin Bilgileri"}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Yaş *"}),t.jsx("input",{type:"number",id:"age",value:a.age||"",onChange:G,className:`w-full px-4 py-3 sm:py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-base touch-manipulation ${o.age?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"18-100 arası bir değer girin",min:"18",max:"100",disabled:s}),o.age&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.age})]}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hobiler * (En az 1, en fazla 10)"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:ae.map(e=>t.jsx("button",{type:"button",onClick:()=>M(e),disabled:s,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors touch-target touch-manipulation ${a.hobbies.includes(e)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:active:bg-gray-500"}`,children:e},e))}),o.hobbies&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.hobbies})]}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsx("label",{htmlFor:"relationship",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"İlişki Durumu *"}),t.jsxs("select",{id:"relationship",value:a.relationship,onChange:U,disabled:s,className:`w-full px-4 py-3 sm:py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-base touch-manipulation ${o.relationship?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[t.jsx("option",{value:"",children:"Seçiniz"}),re.map(e=>t.jsx("option",{value:e,children:e},e))]}),o.relationship&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.relationship})]}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsx("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bütçe (TL) *"}),t.jsx("input",{type:"text",id:"budget",value:$,onChange:q,onFocus:W,onBlur:K,disabled:s,className:`w-full px-4 py-3 sm:py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-base touch-manipulation ${o.budget?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Örn: 500"}),o.budget&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.budget})]}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsx("label",{htmlFor:"occasion",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Özel Gün *"}),t.jsxs("select",{id:"occasion",value:a.occasion,onChange:J,disabled:s,className:`w-full px-4 py-3 sm:py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-base touch-manipulation ${o.occasion?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[t.jsx("option",{value:"",children:"Seçiniz"}),te.map(e=>t.jsx("option",{value:e,children:e},e))]}),o.occasion&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.occasion})]}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kişilik Özellikleri (İsteğe bağlı, en fazla 5)"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:ie.map(e=>t.jsx("button",{type:"button",onClick:()=>Q(e),disabled:s||a.personalityTraits.length>=5&&!a.personalityTraits.includes(e),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors touch-target touch-manipulation ${a.personalityTraits.includes(e)?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:active:bg-gray-500"} ${a.personalityTraits.length>=5&&!a.personalityTraits.includes(e)?"opacity-50 cursor-not-allowed":""}`,children:e},e))})]}),t.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md font-medium hover:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors touch-target touch-manipulation",children:s?"Yükleniyor...":"Hediye Önerisi Al"})]})}try{x.displayName="UserProfileForm",x.__docgenInfo={description:"",displayName:"UserProfileForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(profile: UserProfile) => void"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}}}}}catch{}const le={title:"Components/UserProfileForm",component:x,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{onSubmit:{action:"form submitted"}}},m={args:{isLoading:!1}},b={args:{isLoading:!0}},p={args:{isLoading:!1,initialValues:{age:35,hobbies:["cooking","gardening"],relationship:"mother",budget:500,occasion:"birthday",personality_traits:["practical","eco-friendly"]}}},h={args:{isLoading:!1,initialValues:{age:25,hobbies:["reading"],relationship:"friend",budget:50,occasion:"birthday",personality_traits:[]}}},f={args:{isLoading:!1,initialValues:{age:45,hobbies:["technology","travel","photography"],relationship:"spouse",budget:5e3,occasion:"anniversary",personality_traits:["luxury","tech-savvy"]}}};var B,_,z;m.parameters={...m.parameters,docs:{...(B=m.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    isLoading: false
  }
}`,...(z=(_=m.parameters)==null?void 0:_.docs)==null?void 0:z.source}}};var F,O,E;b.parameters={...b.parameters,docs:{...(F=b.parameters)==null?void 0:F.docs,source:{originalSource:`{
  args: {
    isLoading: true
  }
}`,...(E=(O=b.parameters)==null?void 0:O.docs)==null?void 0:E.source}}};var D,P,C;p.parameters={...p.parameters,docs:{...(D=p.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    isLoading: false,
    initialValues: {
      age: 35,
      hobbies: ['cooking', 'gardening'],
      relationship: 'mother',
      budget: 500,
      occasion: 'birthday',
      personality_traits: ['practical', 'eco-friendly']
    }
  }
}`,...(C=(P=p.parameters)==null?void 0:P.docs)==null?void 0:C.source}}};var I,A,Y;h.parameters={...h.parameters,docs:{...(I=h.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {
    isLoading: false,
    initialValues: {
      age: 25,
      hobbies: ['reading'],
      relationship: 'friend',
      budget: 50,
      occasion: 'birthday',
      personality_traits: []
    }
  }
}`,...(Y=(A=h.parameters)==null?void 0:A.docs)==null?void 0:Y.source}}};var H,L,R;f.parameters={...f.parameters,docs:{...(H=f.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {
    isLoading: false,
    initialValues: {
      age: 45,
      hobbies: ['technology', 'travel', 'photography'],
      relationship: 'spouse',
      budget: 5000,
      occasion: 'anniversary',
      personality_traits: ['luxury', 'tech-savvy']
    }
  }
}`,...(R=(L=f.parameters)==null?void 0:L.docs)==null?void 0:R.source}}};const de=["Default","Loading","WithInitialValues","MinimalBudget","HighBudget"];export{m as Default,f as HighBudget,b as Loading,h as MinimalBudget,p as WithInitialValues,de as __namedExportsOrder,le as default};
